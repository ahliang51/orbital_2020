{"ast":null,"code":"import \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/divider/style\";\nimport _Divider from \"antd/lib/divider\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/notification/style\";\nimport _notification from \"antd/lib/notification\";\nvar _jsxFileName = \"/Users/lundypang/OneDrive/Self-Learning shit/orbital_2020/web-frontend/src/components/Login/Login.js\";\nimport React, { Component } from \"react\";\nimport { InputGroup, Button, Form } from \"react-bootstrap\";\nimport { FaEnvelope, FaLock, FaFacebook, FaGoogle } from \"react-icons/fa\";\nimport { Link } from \"react-router-dom\";\nimport Grid from \"antd/lib/card/Grid\";\nimport { withRouter } from \"react-router\";\nimport axios from 'axios';\nimport { backendUrl } from '../../global-variables';\nimport Logo from \"../Logo/Logo\";\nimport \"./Login.scss\";\nimport { connect } from 'react-redux';\nimport * as authActionTypes from '../../store/actions/authActions';\nimport * as globalActionTypes from '../../store/actions/globalActions';\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      validated: false,\n      setValidated: false\n    };\n  }\n\n  componentDidMount(props) {\n    if (this.props.location.state && this.props.location.state.message) {\n      _notification.error({\n        message: 'Error',\n        description: this.props.location.state.message,\n        placement: 'bottomRight'\n      });\n    }\n  }\n\n  render() {\n    let handleSubmit = event => {\n      this.props.toggleLoading();\n      event.preventDefault();\n      event.stopPropagation();\n      const form = event.currentTarget;\n      this.setState({\n        setValidated: true,\n        validated: true\n      });\n      axios.post(backendUrl + '/auth/login', {\n        email: form.elements.email.value,\n        password: form.elements.password.value\n      }).then(response => {\n        if (response.data.success) {\n          this.props.setAuthType(authActionTypes.SET_AUTH_EMAIL);\n          localStorage.setItem('token', response.data.token);\n          this.props.saveToken(response.data.token);\n\n          _notification.success({\n            message: 'Success',\n            description: \"You have logged in!\",\n            placement: 'bottomRight'\n          });\n\n          this.props.history.push(\"/home\");\n        } else {\n          _notification.error({\n            message: 'Error',\n            description: response.data.message,\n            placement: 'bottomRight'\n          });\n        }\n\n        this.props.toggleLoading();\n      }).catch(error => {\n        _notification.error({\n          message: 'Error',\n          description: \"Network error\",\n          placement: 'bottomRight'\n        });\n\n        this.props.toggleLoading();\n      });\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(_Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(_Col, {\n      xs: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(_Col, {\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Logo, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(_Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Form, {\n      className: \"user-input\",\n      noValidate: true,\n      validated: this.state.validated,\n      onSubmit: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: _Col,\n      controlId: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup.Prepend, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup.Text, {\n      id: \"basic-addon1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FaEnvelope, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 27\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"email\",\n      placeholder: \"Email\",\n      \"aria-describedby\": \"inputGroupPrepend\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n      type: \"invalid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 23\n      }\n    }, \"Please choose a email.\")))), /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: _Col,\n      controlId: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup.Prepend, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup.Text, {\n      id: \"basic-addon1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(FaLock, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 27\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"password\",\n      placeholder: \"Password\",\n      \"aria-describedby\": \"inputGroupPrepend\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n      type: \"invalid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 23\n      }\n    }, \"Please enter a your password.\")))), /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 21\n      }\n    }, \"Login\")))), /*#__PURE__*/React.createElement(_Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"social-media-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"facebook-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: backendUrl + \"/auth/facebook\",\n      className: \"social-media-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FaFacebook, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }\n    }), \"\\xA0 Continue with Facebook\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"google-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: backendUrl + \"/auth/google\",\n      className: \"social-media-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FaGoogle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 21\n      }\n    }), \"\\xA0 Continue with Google\")), /*#__PURE__*/React.createElement(Link, {\n      to: '/register',\n      className: \"sign-up\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }\n    }, \" or Sign up here! \"))), /*#__PURE__*/React.createElement(_Col, {\n      xs: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setAuthType: authType => {\n      dispatch({\n        type: authType\n      });\n    },\n    saveToken: token => {\n      dispatch({\n        type: authActionTypes.SAVE_TOKEN,\n        payload: token\n      });\n    },\n    toggleLoading: () => {\n      dispatch({\n        type: globalActionTypes.TOGGLE_LOADING\n      });\n    }\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(withRouter(Login));","map":{"version":3,"sources":["/Users/lundypang/OneDrive/Self-Learning shit/orbital_2020/web-frontend/src/components/Login/Login.js"],"names":["React","Component","InputGroup","Button","Form","FaEnvelope","FaLock","FaFacebook","FaGoogle","Link","Grid","withRouter","axios","backendUrl","Logo","connect","authActionTypes","globalActionTypes","Login","state","validated","setValidated","componentDidMount","props","location","message","error","description","placement","render","handleSubmit","event","toggleLoading","preventDefault","stopPropagation","form","currentTarget","setState","post","email","elements","value","password","then","response","data","success","setAuthType","SET_AUTH_EMAIL","localStorage","setItem","token","saveToken","history","push","catch","mapDispatchToProps","dispatch","authType","type","SAVE_TOKEN","payload","TOGGLE_LOADING"],"mappings":"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","sourcesContent":["import React, { Component, } from \"react\";\n\nimport {\n  InputGroup,\n  Button,\n  Form,\n} from \"react-bootstrap\";\n\nimport { FaEnvelope, FaLock, FaFacebook, FaGoogle } from \"react-icons/fa\";\n\nimport { Link } from \"react-router-dom\";\n\nimport Grid from \"antd/lib/card/Grid\";\n\nimport { withRouter, } from \"react-router\";\n\nimport axios from 'axios';\n\nimport { backendUrl } from '../../global-variables';\nimport Logo from \"../Logo/Logo\";\n\nimport \"./Login.scss\";\nimport { connect } from 'react-redux'\nimport * as authActionTypes from '../../store/actions/authActions'\nimport * as globalActionTypes from '../../store/actions/globalActions'\nimport { notification, Divider, Row, Col } from \"antd\";\nclass Login extends Component {\n\n  state = { validated: false, setValidated: false }\n\n  componentDidMount(props) {\n    if (this.props.location.state && this.props.location.state.message) {\n      notification.error({\n        message: 'Error',\n        description: this.props.location.state.message,\n        placement: 'bottomRight'\n      });\n    }\n  }\n\n  render() {\n\n    let handleSubmit = (event) => {\n      this.props.toggleLoading();\n      event.preventDefault();\n      event.stopPropagation();\n      const form = event.currentTarget;\n      this.setState({\n        setValidated: true, validated: true\n      })\n\n\n      axios.post(backendUrl + '/auth/login', {\n        email: form.elements.email.value,\n        password: form.elements.password.value\n      }).then((response) => {\n\n        if (response.data.success) {\n          this.props.setAuthType(authActionTypes.SET_AUTH_EMAIL)\n          localStorage.setItem('token', response.data.token)\n          this.props.saveToken(response.data.token);\n          notification.success({\n            message: 'Success',\n            description: \"You have logged in!\",\n            placement: 'bottomRight'\n          });\n          this.props.history.push(\"/home\");\n\n        } else {\n          notification.error({\n            message: 'Error',\n            description: response.data.message,\n            placement: 'bottomRight'\n          });\n        }\n        this.props.toggleLoading();\n      }).catch(error => {\n        notification.error({\n          message: 'Error',\n          description: \"Network error\",\n          placement: 'bottomRight'\n        });\n        this.props.toggleLoading();\n\n      })\n    };\n\n    return (\n      <div className=\"Login\" >\n        <Grid>\n          <Row>\n            <Col xs={6}></Col>\n            <Col xs={12}>\n              <Logo></Logo>\n              <Divider></Divider>\n              <Form className=\"user-input\" noValidate validated={this.state.validated} onSubmit={handleSubmit}>\n                <Form.Row>\n                  <Form.Group as={Col} controlId=\"email\">\n                    <InputGroup>\n                      <InputGroup.Prepend>\n                        <InputGroup.Text id=\"basic-addon1\">\n                          <FaEnvelope></FaEnvelope>\n                        </InputGroup.Text>\n                      </InputGroup.Prepend>\n                      <Form.Control\n                        type=\"email\"\n                        placeholder=\"Email\"\n                        aria-describedby=\"inputGroupPrepend\"\n                        required\n                      />\n                      <Form.Control.Feedback type=\"invalid\">\n                        Please choose a email.\n                      </Form.Control.Feedback>\n                    </InputGroup>\n                  </Form.Group>\n                </Form.Row>\n                <Form.Row>\n                  <Form.Group as={Col} controlId=\"password\">\n                    <InputGroup>\n                      <InputGroup.Prepend>\n                        <InputGroup.Text id=\"basic-addon1\">\n                          <FaLock></FaLock>\n                        </InputGroup.Text>\n                      </InputGroup.Prepend>\n                      <Form.Control\n                        type=\"password\"\n                        placeholder=\"Password\"\n                        aria-describedby=\"inputGroupPrepend\"\n                        required\n                      />\n                      <Form.Control.Feedback type=\"invalid\">\n                        Please enter a your password.\n                       </Form.Control.Feedback>\n                    </InputGroup>\n                  </Form.Group>\n                </Form.Row>\n                <Form.Row>\n                  <div className=\"login-btn\">\n                    <Button type=\"submit\">Login</Button>\n                  </div>\n                </Form.Row>\n\n              </Form>\n              <Divider />\n              <div className=\"social-media-container\">\n                <div className=\"facebook-container\">\n                  <a href={backendUrl + \"/auth/facebook\"} className=\"social-media-icon\">\n                    <FaFacebook></FaFacebook>\n                  &nbsp; Continue with Facebook\n                 </a>\n                </div>\n\n\n                <div className=\"google-container\">\n                  <a href={backendUrl + \"/auth/google\"} className=\"social-media-icon\">\n                    <FaGoogle></FaGoogle>\n                  &nbsp; Continue with Google\n                 </a>\n                </div>\n                <Link to={'/register'} className=\"sign-up\"> or Sign up here! </Link>\n\n              </div>\n            </Col>\n            <Col xs={6}></Col>\n          </Row>\n        </Grid>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setAuthType: (authType) => { dispatch({ type: authType }) },\n    saveToken: (token) => { dispatch({ type: authActionTypes.SAVE_TOKEN, payload: token }) },\n    toggleLoading: () => { dispatch({ type: globalActionTypes.TOGGLE_LOADING }) },\n  }\n}\n\n\nexport default connect(null, mapDispatchToProps)(withRouter(Login));"]},"metadata":{},"sourceType":"module"}